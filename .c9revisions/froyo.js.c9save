{"ts":1346701447959,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/* \nFroyo.js, a micro-framework for node.js.\n\nALL OF THE FOLLOWING IS PUBLIC DOMAIN\n*/\n\nvar http = require(\"http\") //Add the http module\n\nfunction scoop(map, port){ // Deines the main function, scoop.\n    if (typeof port === \"undefined\") { port = 8080; }\n    var a = false //Sets the a switch\n    var keys = Object.keys(map) // Creates a list of keys\n    http.createServer(function(req, res) {//creates the server\n        console.log(\"Request recieved for \"+req.url)// Adds helpful coommand-line output\n        var i = 1 //Sets the i switch\n        while(i <= keys.length) { // Starts the while loop for request handling. Iterates through each key in map\n            var k = keys[i - 1] // Sets the k variable, just short for whatever path we are on\n            if (req.url === k){// Awesome part! Checks if path request and the path given match\n                console.log(\"Routing request for \"+req.url)// More useful cmd stuff\n                map[k](req, res);//Calls the request handler, passing request and response\n                a = true// Sets a to true, (flips switch a)\n                break; // Breaks out of the while loop            \n                                }\n                             i++; // increases the i switch if the above if statement evaluates to false               \n        }\n\n            if(a === true) {// This will always answer with a 404, but fails if another response has already been sent\n                res.writeHead(404, {\"Content-Type\": 'text/html'})\n                res.end(\"<!doctype html>\\n<html>\\n<body>\\n404: Not Found. Sorry :(\\n</body>\\n</html>\")// Sends a 404 msg\n\n            }\n    }).listen(port) //Listens at the port specified\n    console.log(\"Server Started at port \"+ port)//More cmd sugar text\n}\n\nexports.scoop = scoop//Exports the function for use\n"]],"start1":0,"start2":0,"length1":0,"length2":1811}]],"length":1811}
{"contributors":[],"silentsave":true,"ts":1346701575767,"patch":[[{"diffs":[[0,"p module"],[1,"\nvar url = require(\"url\")"],[0,"\n\nfuncti"]],"start1":128,"start2":128,"length1":16,"length2":41},{"diffs":[[0,"    "],[-1,"var a = false //Sets the a switch\n    var keys = Object.keys(map) // Creates a list of keys\n    http.createServer(function(req, res) {//creates the server\n        console.log(\"Request recieved for \"+req.url)// Adds helpful coommand-line output\n        var i = 1 //Sets the i switch\n        while(i <= keys.length) { // Starts the while loop for request handling. Iterates through each key in map\n            var k = keys[i - 1] // Sets the k variable, just short for whatever path we are on\n            if (req.url === k){// Awesome part! Checks if path request and the path given match\n                console.log(\"Routing request for \"+req.url)// More useful cmd stuff\n                map[k](req, res);//Calls the request handler, passing request and response\n                a = true// Sets a to true, (flips switch a)\n                break; // Breaks out of the while loop            \n                                }\n                             i++; // increases the i switch if the above if statement evaluates to false               \n        }\n\n            if(a === true) {// This will always answer with a 404, but fails if another response has already been sent\n                res.writeHead(404, {\"Content-Type\": 'text/html'})\n                res.end(\"<!doctype html>\\n<html>\\n<body>\\n404: Not Found. Sorry :(\\n</body>\\n</html>\")// Sends a 404 msg\n\n            }"],[1,"http.createServer(function(req, res) {//creates the server\n    var path = r"],[0,"\n   "]],"start1":280,"start2":280,"length1":1382,"length2":83}]],"length":537,"saved":false}
{"ts":1346701578125,"patch":[[{"diffs":[[0," path = "],[-1,"r"],[1,"url.parse()"],[0,"\n    })."]],"start1":350,"start2":350,"length1":17,"length2":27}]],"length":547,"saved":false}
{"ts":1346701578399,"patch":[[{"diffs":[[0,"l.parse("],[1,"''"],[0,")\n    })"]],"start1":360,"start2":360,"length1":16,"length2":18}]],"length":549,"saved":false}
{"ts":1346701578948,"patch":[[{"diffs":[[0,".parse('"],[-1,"'"],[0,")\n    })"]],"start1":361,"start2":361,"length1":17,"length2":16}]],"length":548,"saved":false}
{"contributors":[],"silentsave":true,"ts":1346701631651,"patch":[[{"diffs":[[0,"/* "],[1,"\r"],[0,"\nFroyo.j"]],"start1":0,"start2":0,"length1":11,"length2":12},{"diffs":[[0,"node.js."],[-1,"\n"],[1,"\r\n\r"],[0,"\nALL OF "]],"start1":37,"start2":37,"length1":17,"length2":19},{"diffs":[[0,"MAIN"],[1,"\r"],[0,"\n*/"],[-1,"\n"],[1,"\r\n\r"],[0,"\nvar"]],"start1":82,"start2":82,"length1":12,"length2":15},{"diffs":[[0,"p module"],[1,"\r"],[0,"\nvar url"]],"start1":134,"start2":134,"length1":16,"length2":17},{"diffs":[[0,"e(\"url\")"],[-1,"\n"],[1,"\r\n\r"],[0,"\nfunctio"]],"start1":160,"start2":160,"length1":17,"length2":19},{"diffs":[[0,", scoop."],[1,"\r"],[0,"\n    if "]],"start1":226,"start2":226,"length1":16,"length2":17},{"diffs":[[0," 8080; }"],[1,"\r"],[0,"\n    htt"]],"start1":281,"start2":281,"length1":16,"length2":17},{"diffs":[[0,"e server"],[1,"\r"],[0,"\n    var"]],"start1":345,"start2":345,"length1":16,"length2":17},{"diffs":[[0,"rse("],[-1,"')"],[1,"req.url).pathname\r\n    try {\r\n        map[path](req, res)\r\n    }\r"],[0,"\n   "]],"start1":376,"start2":376,"length1":10,"length2":73},{"diffs":[[0,"pecified"],[1,"\r"],[0,"\n    con"]],"start1":489,"start2":489,"length1":16,"length2":17},{"diffs":[[0,"text"],[1,"\r"],[0,"\n}"],[-1,"\n"],[1,"\r\n\r"],[0,"\nexp"]],"start1":564,"start2":564,"length1":11,"length2":14},{"diffs":[[0," for use"],[1,"\r"],[0,"\n"]],"start1":618,"start2":618,"length1":9,"length2":10}]],"length":628,"saved":false}
{"ts":1346701635826,"patch":[[{"diffs":[[0,"es)\r\n    }\r\n"],[1,"    ca\r\n"],[0,"    }).liste"]],"start1":434,"start2":434,"length1":24,"length2":32}]],"length":636,"saved":false}
{"ts":1346701637729,"patch":[[{"diffs":[[0,"\r\n    ca"],[1,"tch "],[0,"\r\n    })"]],"start1":444,"start2":444,"length1":16,"length2":20}]],"length":640,"saved":false}
{"ts":1346701639498,"patch":[[{"diffs":[[0,"  catch "],[1,"(e)"],[0,"\r\n    })"]],"start1":448,"start2":448,"length1":16,"length2":19}]],"length":643,"saved":false}
{"ts":1346701640916,"patch":[[{"diffs":[[0,"atch (e)"],[1,"{\r\n        \r\n    }"],[0,"\r\n    })"]],"start1":451,"start2":451,"length1":16,"length2":34}]],"length":661,"saved":false}
{"ts":1346701642713,"patch":[[{"diffs":[[0,"     \r\n    }"],[1,";"],[0,"\r\n    }).lis"]],"start1":465,"start2":465,"length1":24,"length2":25}]],"length":662,"saved":false}
{"ts":1346701645403,"patch":[[{"diffs":[[0," \r\n    }"],[-1,";"],[0,"\r\n    })"]],"start1":469,"start2":469,"length1":17,"length2":16}]],"length":661,"saved":false}
{"ts":1346701651356,"patch":[[{"diffs":[[0,"en(port)"],[1,";"],[0," //Liste"]],"start1":490,"start2":490,"length1":16,"length2":17}]],"length":662,"saved":false}
{"ts":1346701653390,"patch":[[{"diffs":[[0,"\"+ port)"],[1,";"],[0,"//More c"]],"start1":573,"start2":573,"length1":16,"length2":17}]],"length":663,"saved":false}
{"ts":1346701658074,"patch":[[{"diffs":[[0," = scoop"],[1,";"],[0,"//Export"]],"start1":623,"start2":623,"length1":16,"length2":17}]],"length":664,"saved":false}
{"ts":1346701663382,"patch":[[{"diffs":[[0,"eq, res)"],[1,";"],[0,"\r\n    }\r"]],"start1":429,"start2":429,"length1":16,"length2":17}]],"length":665,"saved":false}
{"ts":1346701667626,"patch":[[{"diffs":[[0,"pathname"],[1,";"],[0,"\r\n    tr"]],"start1":389,"start2":389,"length1":16,"length2":17}]],"length":666,"saved":false}
{"ts":1346701670446,"patch":[[{"diffs":[[0,"e(\"url\")"],[1,";"],[0,"\r\n\r\nfunc"]],"start1":160,"start2":160,"length1":16,"length2":17}]],"length":667,"saved":false}
{"ts":1346701671304,"patch":[[{"diffs":[[0,"(\"http\")"],[1,";"],[0," //Add t"]],"start1":112,"start2":112,"length1":16,"length2":17}]],"length":668,"saved":false}
{"ts":1346701679309,"patch":[[{"diffs":[[0,"        "],[1,"try "],[0,"\r\n    }\r"]],"start1":466,"start2":466,"length1":16,"length2":20}]],"length":672,"saved":false}
{"ts":1346701681377,"patch":[[{"diffs":[[0,"    try "],[1,"{\r\n            m\r\n        }"],[0,"\r\n    }\r"]],"start1":470,"start2":470,"length1":16,"length2":43}]],"length":699,"saved":false}
{"ts":1346701682640,"patch":[[{"diffs":[[0,"       m"],[1,"ap[]"],[0,"\r\n      "]],"start1":486,"start2":486,"length1":16,"length2":20}]],"length":703,"saved":false}
{"ts":1346701684109,"patch":[[{"diffs":[[0,"    map["],[1,"'404'"],[0,"]\r\n     "]],"start1":489,"start2":489,"length1":16,"length2":21}]],"length":708,"saved":false}
{"ts":1346701687116,"patch":[[{"diffs":[[0,"p['404']"],[1,"(req, res)"],[0,"\r\n      "]],"start1":495,"start2":495,"length1":16,"length2":26}]],"length":718,"saved":false}
{"ts":1346701688696,"patch":[[{"diffs":[[0,"\n        }\r\n"],[1,"        c\r\n"],[0,"    }\r\n    }"]],"start1":514,"start2":514,"length1":24,"length2":35}]],"length":729,"saved":false}
{"ts":1346701690087,"patch":[[{"diffs":[[0,"       c"],[1,"atch()"],[0,"\r\n    }\r"]],"start1":527,"start2":527,"length1":16,"length2":22}]],"length":735,"saved":false}
{"ts":1346701690926,"patch":[[{"diffs":[[0,"  catch("],[1,"e"],[0,")\r\n    }"]],"start1":532,"start2":532,"length1":16,"length2":17}]],"length":736,"saved":false}
{"ts":1346701692079,"patch":[[{"diffs":[[0,"catch(e)"],[1,"{\r\n            \r\n        }"],[0,"\r\n    }\r"]],"start1":534,"start2":534,"length1":16,"length2":42}]],"length":762,"saved":false}
{"ts":1346701695395,"patch":[[{"diffs":[[0,"eq, res)"],[1,";"],[0,"\r\n      "]],"start1":505,"start2":505,"length1":16,"length2":17}]],"length":763,"saved":false}
{"ts":1346701697073,"patch":[[{"diffs":[[0,"        "],[1,"res."],[0,"\r\n      "]],"start1":550,"start2":550,"length1":16,"length2":20}]],"length":767,"saved":false}
{"ts":1346701698589,"patch":[[{"diffs":[[0,"    res."],[1,"write"],[0,"\r\n      "]],"start1":554,"start2":554,"length1":16,"length2":21}]],"length":772,"saved":false}
{"ts":1346701700880,"patch":[[{"diffs":[[0,"es.write"],[1,"Head('')"],[0,"\r\n      "]],"start1":559,"start2":559,"length1":16,"length2":24}]],"length":780,"saved":false}
{"ts":1346701701435,"patch":[[{"diffs":[[0,"teHead('"],[-1,"'"],[0,")\r\n     "]],"start1":565,"start2":565,"length1":17,"length2":16}]],"length":779,"saved":false}
{"ts":1346701703607,"patch":[[{"diffs":[[0,"iteHead("],[-1,"'"],[1,"2"],[0,")\r\n     "]],"start1":564,"start2":564,"length1":17,"length2":17}]],"length":779,"saved":false}
{"ts":1346701707540,"patch":[[{"diffs":[[0,"teHead(2"],[1,"00, {\"Content-Ty\"}"],[0,")\r\n     "]],"start1":565,"start2":565,"length1":16,"length2":34}]],"length":797,"saved":false}
{"ts":1346701708795,"patch":[[{"diffs":[[0,"ntent-Ty"],[1,"pe"],[0,"\"})\r\n   "]],"start1":581,"start2":581,"length1":16,"length2":18}]],"length":799,"saved":false}
{"ts":1346701710819,"patch":[[{"diffs":[[0,"nt-Type\""],[1,": 'text/'"],[0,"})\r\n    "]],"start1":584,"start2":584,"length1":16,"length2":25}]],"length":808,"saved":false}
{"ts":1346701711421,"patch":[[{"diffs":[[0,": 'text/"],[1,"h"],[0,"'})\r\n   "]],"start1":592,"start2":592,"length1":16,"length2":17}]],"length":809,"saved":false}
{"ts":1346701712509,"patch":[[{"diffs":[[0," 'text/h"],[1,"tml"],[0,"'})\r\n   "]],"start1":593,"start2":593,"length1":16,"length2":19}]],"length":812,"saved":false}
{"ts":1346701715137,"patch":[[{"diffs":[[0,"tml'})\r\n"],[1,"            res.end\r\n"],[0,"        "]],"start1":601,"start2":601,"length1":16,"length2":37}]],"length":833,"saved":false}
{"ts":1346701717401,"patch":[[{"diffs":[[0," res.end"],[1,"(\"\")"],[0,"\r\n      "]],"start1":620,"start2":620,"length1":16,"length2":20}]],"length":837,"saved":false}
{"ts":1346701718499,"patch":[[{"diffs":[[0,"es.end(\""],[1,"404"],[0,"\")\r\n    "]],"start1":622,"start2":622,"length1":16,"length2":19}]],"length":840,"saved":false}
{"ts":1346701720465,"patch":[[{"diffs":[[0,"end(\"404"],[1,": Not F"],[0,"\")\r\n    "]],"start1":625,"start2":625,"length1":16,"length2":23}]],"length":847,"saved":false}
{"ts":1346701722489,"patch":[[{"diffs":[[0,"4: Not F"],[1,"ound"],[0,"\")\r\n    "]],"start1":632,"start2":632,"length1":16,"length2":20}]],"length":851,"saved":false}
{"ts":1346701724501,"patch":[[{"diffs":[[0,"server\r\n"],[1,"    c\r\n"],[0,"    var "]],"start1":349,"start2":349,"length1":16,"length2":23}]],"length":858,"saved":false}
{"ts":1346701728203,"patch":[[{"diffs":[[0,"r\r\n    c"],[1,"onsole"],[0,"\r\n    va"]],"start1":354,"start2":354,"length1":16,"length2":22}]],"length":864,"saved":false}
{"ts":1346701729324,"patch":[[{"diffs":[[0," console"],[1,".log"],[0,"\r\n    va"]],"start1":360,"start2":360,"length1":16,"length2":20}]],"length":868,"saved":false}
{"ts":1346701730528,"patch":[[{"diffs":[[0,"sole.log"],[1,"(\"\")"],[0,"\r\n    va"]],"start1":364,"start2":364,"length1":16,"length2":20}]],"length":872,"saved":false}
{"ts":1346701732543,"patch":[[{"diffs":[[0,"log("],[-1,"\"\""],[1,"req."],[0,")\r\n "]],"start1":369,"start2":369,"length1":10,"length2":12}]],"length":874,"saved":false}
{"ts":1346701734427,"patch":[[{"diffs":[[0,"log(req."],[1,"mt\r\n    "],[0,")\r\n    v"]],"start1":369,"start2":369,"length1":16,"length2":24}]],"length":882,"saved":false}
{"ts":1346701736361,"patch":[[{"diffs":[[0,"og(req.m"],[-1,"t"],[1,"eh"],[0,"\r\n    )\r"]],"start1":370,"start2":370,"length1":17,"length2":18}]],"length":883,"saved":false}
{"ts":1346701736933,"patch":[[{"diffs":[[0,"eq.meh\r\n"],[-1,"    "],[0,")\r\n    v"]],"start1":374,"start2":374,"length1":20,"length2":16}]],"length":879,"saved":false}
{"ts":1346701737825,"patch":[[{"diffs":[[0,"q.me"],[1,"t"],[0,"h"],[-1,"\r\n"],[0,")\r\n "]],"start1":375,"start2":375,"length1":11,"length2":10}]],"length":878,"saved":false}
{"ts":1346701739467,"patch":[[{"diffs":[[0,"req.meth"],[1,"od"],[0,")\r\n    v"]],"start1":373,"start2":373,"length1":16,"length2":18}]],"length":880,"saved":false}
{"contributors":[],"silentsave":true,"ts":1346977987467,"patch":[[{"diffs":[[0,"er\r\n"],[-1,"    console.log(req.method)\r\n"],[0,"    "]],"start1":353,"start2":353,"length1":37,"length2":8},{"diffs":[[0,"hname;\r\n"],[1,"    console.log(req.method+\" request recieved for \"+path);\r\n"],[0,"    try "]],"start1":394,"start2":394,"length1":16,"length2":76},{"diffs":[[0,"ap[path]"],[1,"[re]"],[0,"(req, re"]],"start1":482,"start2":482,"length1":16,"length2":20},{"diffs":[[0,"/html'})"],[1,";"],[0,"\r\n      "]],"start1":663,"start2":663,"length1":16,"length2":17},{"diffs":[[0," Found\")"],[1,";"],[0,"\r\n      "]],"start1":703,"start2":703,"length1":16,"length2":17}]],"length":917,"saved":false}
{"ts":1346977988509,"patch":[[{"diffs":[[0,"path][re"],[1,"q.m"],[0,"](req, r"]],"start1":485,"start2":485,"length1":16,"length2":19}]],"length":920,"saved":false}
{"ts":1346977989955,"patch":[[{"diffs":[[0,"h][req.m"],[1,"ethod."],[0,"](req, r"]],"start1":488,"start2":488,"length1":16,"length2":22}]],"length":926,"saved":false}
{"ts":1346977990618,"patch":[[{"diffs":[[0,"q.method"],[-1,"."],[0,"](req, r"]],"start1":493,"start2":493,"length1":17,"length2":16}]],"length":925,"saved":false}
{"contributors":[],"silentsave":false,"ts":1346978019618,"patch":[[{"diffs":[[0,"q.method"],[1,".toLowerCase()"],[0,"](req, r"]],"start1":493,"start2":493,"length1":16,"length2":30}]],"length":939,"saved":false}
{"ts":1346978154482,"patch":[[{"diffs":[[0,"\n        }\r\n"],[1,"    console.log(\"404 error for \"+path);\r\n"],[0,"    }\r\n    }"]],"start1":735,"start2":735,"length1":24,"length2":65}]],"length":980,"saved":false}
